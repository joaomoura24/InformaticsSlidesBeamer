\mode<presentation>

\newif\ifbeamer@Informatics@noseperators
\DeclareOptionBeamer{noseperators}[true]{\csname beamer@Informatics@noseperators#1\endcsname}

\newcommand{\beamerinfothemeaddlimiter}[1]{%
  \setbox\beamer@tempbox=\hbox{#1}%
  \ifdim\wd\beamer@tempbox>1pt%
    \ifbeamer@Informatics@noseperators%
      \hskip1.5ex
    \else%
      {\hskip0.5ex\textcolor{infoRed}{\textbar}}
    \fi
    % \hskip-0.5ex
    #1
  \fi%
}


\defbeamertemplate*{frametitle}{Informatics theme}[1][]{
  \begin{tikzpicture}[remember picture,overlay]
    % top rectangle
    \node (header) [%
        shape=rectangle, 
        text opacity=1, 
        fill=headerGrey,
        inner sep=0pt,
        outer sep=0pt,
        minimum height=0.155556\paperheight,
        minimum width=\paperwidth, 
        anchor=north,
        ] at (current page.north) {};
    % logo
    \node (informaticsLogo) [%
        anchor=north west,
        inner sep=0pt,
        ] at ($(current page.north west)+(0.2,-0.2)$) {%
        \includegraphics[height=0.111111\paperheight]{InformaticsUni_CMYK}
    };
    % bottom rectangle
    \node (footer) [%
        shape=rectangle, 
        text opacity=1, 
        fill=headerGrey,
        inner sep=0pt,
        outer sep=0pt,
        minimum height=0.155556\paperheight,
        minimum width=\paperwidth, 
        anchor=south,
        ] at (current page.south) {};
    \node (frametitle) [%
        anchor=north west,
        ] at ($(current page.north west)+(0.9em,-1.6)$) {%
        \usebeamercolor{frametitle}\usebeamerfont{frametitle}\insertframetitle
        \beamerinfothemeaddlimiter{\usebeamerfont{framesubtitle}\textcolor{infoBlue}{\insertframesubtitle}}
      };
  \end{tikzpicture}
  \vskip2em 
} 

\defbeamertemplate*{footline}{Informatics theme}
{
  \leavevmode%
  \hbox{%
    \begin{beamercolorbox}[wd=.9\paperwidth,ht=2.25ex,dp=1.5ex,left]{section in head/foot}%
      \usebeamerfont{section in head/foot}\hspace*{.025\paperwidth}
      \insertshorttitle
      \beamerinfothemeaddlimiter{\insertsectionhead}
      \hskip-1.0ex
      \beamerinfothemeaddlimiter{\insertsubsectionhead}
      \hspace*{1cm}%
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.1\paperwidth,ht=2.25ex,dp=1.5ex,center]{section in head/foot}%
      \usebeamerfont{section in head/foot} \insertframenumber/\inserttotalframenumber
    \end{beamercolorbox}%
  }
  \vskip0pt%
}


\setbeamertemplate{footnote}{ % <---
  \hspace{-0.6cm}
  \makebox[1em][l]{\insertfootnotemark}%
  \begin{minipage}{1.05\textwidth}
    \tiny\linespread{0.0}\selectfont\insertfootnotetext
  \end{minipage}\vskip 0pt
}% end of footnote template

\defbeamertemplate*{title page}{Informatics theme}[1][]{
    \begin{tikzpicture}[remember picture,overlay]
        \node (backgroundImage) [
            anchor=north,
            draw=headerGrey,
            opacity=1.0,
            inner sep=0pt
            ] at ($(current page.north)+(0,-1.4)$) {%
            % \includegraphics[width=\paperwidth]{background.jpg}
            \includegraphics[height=0.917\paperheight]{background.jpg}
        };
        % top rectangle
        \node (header) [%
            shape=rectangle, 
            text opacity=1, 
            fill=headerGrey,
            inner sep=0pt,
            outer sep=0pt,
            minimum height=0.16\paperheight,
            minimum width=\paperwidth, 
            anchor=north,
            ] at (current page.north) {};
        % logo
        \node (informaticsLogo) [%
            anchor=north west,
            inner sep=0pt,
            ] at ($(current page.north west)+(0.2,-0.2)$) {%
            \includegraphics[height=0.111111\paperheight]{InformaticsUni_CMYK}
        };
        \node (titleArea) [%
            shape=rectangle, 
            fill=white,
            fill opacity=0.6,
            text opacity=1, 
            minimum height=0.42\paperheight,
            minimum width=\paperwidth,
            anchor=north west,
        ] at ($(current page.north west)+(0,-2.8)$) {%
            \hspace*{0.4cm}
            \begin{minipage}{0.99\textwidth}
                \vspace*{0.9cm}
                \usebeamerfont{title}\usebeamercolor[fg]{title}\begin{flushleft}\inserttitle\end{flushleft}\par
                \usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par
                \flushright
                \usebeamerfont{author}\insertauthor\par
                \usebeamerfont{institute}\insertinstitute\par
                \usebeamerfont{date}\insertdate\par
            \end{minipage}
        };
    \end{tikzpicture}
}

\mode<all>
